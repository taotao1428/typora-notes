# 面试题



## 系统设计

### 限流

场景题：想要实现一个100qps的限流策略，怎么从后端进行设计，集群系统如何设计



- 介绍一些 RPC 项目
- 有考虑到注册中心单点故障吗？
- 内存缓存、本地缓存、注册中心集群化、SPI 扩展
- 介绍一下 RPC 的流程。

- 负载均衡方式
- 场景：如果机器性能不同，如何做负载均衡？
- 我答的加权
- 加权的话，如果多个客户端同时打到权重最高的呢，把机器打挂了怎么办？
- 考虑使用服务器端代理负载均衡。
- 权重可以动态调整，实时探测机器负载均衡，机器快挂了权重自然就低了
- rpc中的序列化协议知道么，如何优化？



## java基础

### 安全类

有哪些集合类是线程安全的，哪些是不安全的？





7.AQS的底层原理
8.线程的几个问题：原子性、可见性、有序性都是怎么实现的
9.volatile单例模式，聊到了指令重排
10.synchronized和lock的区别
11.解决ABA问题，引入原子引用

- 四种引用
- 分别介绍下软引用和弱引用的使用场景
- 这里详细谈了谈 threadlocal 内存泄漏



- 介绍一下垃圾收集器的原理
- cms 和 g1 的优缺点？
- 如何控制吞吐量？
- 实际用过 JVM 的哪些参数？
- 没啥实际经验，就用过 -xmx，-xms
- jvm 启动为什么这么慢？
- 只答了涉及部分类加载，答的不好，其实就是问 jvm 启动做了什么
- 涉及JVM自身的类加载、线程创建、内存开辟、监控热点代码、JIT 编译、解析参数

- 介绍一下自旋锁。
- 从 linux 的 mutex 到 java 的 sync 都说了一遍。

- Netty 线程模型
- IO 多路复用原理
- select epoll
- 大数据内存排序
- 反问



## 设计模式和设计原则

设计模式和设计原则



## 网络

1.OSI七层网络模型以及各层的作用
2.TCP和UDP的区别
3.TCP保证可靠传输的机制
4.TCP三次握手机制



## 操作系统

5.进程线程之间的区别
6.进程之间的通信方式有哪些

为什么需要字节对齐

​	优化内存访问速度和数据存储效率

​	一次读取更多字节，便于缓存，例如寄存器通常都是 8 字节

​	硬件工作机制，内存访问机制每次读取都是 8 字节

​	统一不同机器的读取标准

CPU cache，访问需要几个时钟周期

​	不同级的 cache 效率相差数十倍，L1 级缓存只需要个位数的时钟周期




零拷贝技术

- DMA、sendFile、Netty 堆外内存、mmap
- mmap：将文件映射到虚拟内存中，这样写文件就直接从用户空间写到文件系统中了，少了到内存的拷贝
- Raft 脑裂
- 介绍下 fork 函数
- 知道 PCB 吗？
- 进程控制块：PID、状态、优先级、程序计数器、栈堆指针、执行虚拟地址空间的指针
- 介绍下文件系统







## 数据库

- 事务 ACID 性质
- Redis 的基本数据结构
- SDS、列表、哈希、跳跃表、整数集合、压缩列表



## 算法

- 算法：手写堆排序
- 算法：约瑟夫环
- 算法：按单词出现次数排序
- 算法：重排链表
- 饿了么，如何在附近50w的商户中，快速找到离你最近的20家饭店？

## 智力题



脑筋急转弯：五个人过河的经典问题





## 资料

https://www.nowcoder.com/discuss/406776190017585152?sourceSSR=users